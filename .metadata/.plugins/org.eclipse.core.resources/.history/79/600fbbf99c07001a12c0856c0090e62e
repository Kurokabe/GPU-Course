
#include <iostream>
#include "Grid.h"
#include "Device.h"
#include "LimitsTools.h"
#include "MathTools.h"

#include "host/Bandwidth.h"

using std::cout;
using std::endl;

/*----------------------------------------------------------------------*\
 |*			Declaration 					*|
 \*---------------------------------------------------------------------*/

/*--------------------------------------*\
 |*		Public			*|
 \*-------------------------------------*/

__host__ bool isBandwidthOK();
__host__ bool isBandwidthOK(const Grid& grid);


/*----------------------------------------------------------------------*\
 |*			Implementation 					*|
 \*---------------------------------------------------------------------*/

/*--------------------------------------*\
 |*		Public			*|
 \*-------------------------------------*/


bool isBandwidthOK(const Grid& grid)
    {


    int n = 1;
    int tabData[n];

    Bandwidth bandwidth(grid, tabData, n);
    //bandwidth.run();


    return true;
    }

bool isBandwidthOK()
    {
    bool isOk = true;
    dim3 dg = dim3(1,1,1);
    dim3 db = dim3(2, 1, 1);
//    Grid grid(dg, db);
//    for(int i = 16; i<=64; ++i) //Démarrage à 16 afin d'avoir des tests assez rapides
//	{
//	dg.x = i;
//	grid.dg = dg;
//	for(int j = 4; j<=1024; j*=2)
//	    {
//	    db.x = j;
//	    grid.db = db;
//	    cout << grid << endl;
	    isOk &= isBandwidthOK(grid);
//	    }
//	}
    return isOk;
    }

/*----------------------------------------------------------------------*\
 |*			End	 					*|
 \*---------------------------------------------------------------------*/
